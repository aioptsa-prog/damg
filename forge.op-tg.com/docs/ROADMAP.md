# خارطة طريق التطوير (Roadmap)

هذه الخارطة تُلخّص أولويات العمل المقترحة بعد حادث الخرائط وتحديثات الواجهة الأخيرة، بهدف رفع الاعتمادية وتحسين UX وقابلية التوسّع.

## أولوية عاجلة (Sprint 0)
- إدراج Probe بسيط لمصادر البلاطات في صفحة التشخيصات (ping لكل مصدر، يعرض الحالة).
- حفظ لقطات (screenshots) لنجاح فحص الخرائط ضمن أدلة النشر.
- نقل كل مفاتيح API إلى config/.env.php، وعدم تمكين الطباعة في الواجهة.
- إضافة حماية CSRF الافتراضية للنماذج الحساسة (security_csrf_auto=1 في الإنتاج).

## قصير المدى (Sprint 1)
- توحيد الجداول على DataTables في كل الصفحات؛ اعتماد مدير الأعمدة + كثافة العرض.
- تحسين UX للجوال: تحسين Responsive للجداول الكبيرة، واستخدام collapse/summary للحقول الثانوية.
- Minify/Bundle لأصول CSS/JS الأساسية؛ إضافة Cache-Control/ETag للأصول الثابتة.

## متوسط المدى (Sprint 2)
- خيار مصدر بلاطات داخلي (Self-hosted أو Proxy) للمؤسسات ذات الشبكات المقيّدة.
- إضافة Audit Log أوسع لعمليات المشرف الحساسة.
- دعم i18n أوسع وتقليل النصوص hardcoded.

## طويل المدى (Quarter)
- دراسة ترحيل قاعدة البيانات إلى PostgreSQL، مع طبقة Migrations رسمية.
- اعتماد إطار Frontend (Vue/React) تدريجيًا للمناطق التفاعلية الثقيلة.
- بنية خدمة مصغّرات (Microservices) اختيارية لوحدة العامل والمعالجة الثقيلة.

## مقاييس المتابعة
- زمن التحميل الأولي لصفحات الإدارة (TTFB + FCP + LCP).
- نسبة نجاح تحميل الخرائط (tile success rate) عبر سجلات خفيفة.
- حصة الجوال من الاستخدام ومعدل نجاح الإجراءات فيه.

## روابط مرجعية
- INCIDENTS.md — تفاصيل حادث الخرائط وأساسيات الوقاية.
- DIAGNOSTICS.md — دليل تشخيص الخرائط.
- RUNBOOK.md — Smoke Tests بعد النشر.
- CONFIG_REFERENCE.md — إعدادات tile_sources_json وغيرها.
